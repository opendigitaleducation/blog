<!DOCTYPE html>
<html class="print">
<head>
	<title>Blog</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<script src="/blog/public/dist/entcore/ng-app.js" id="context"  type="text/javascript"></script>
	<script src="/blog/public/dist/application.js" type="text/javascript"></script>
</head>
<body ng-controller="BlogController">
	<portal-styles></portal-styles>

	<div class="centered container row">
		<section class="main">
			<h1 class="text upper-title">[[blog.title]]</h1>
			<em class="medium-importance" ng-if="currentBlog.author">
				<i18n>blog.by</i18n> [[blog.author.username]]
			</em>

			<div ng-repeat="post in blog.posts.all" class="row">
				<article class="twelve cell">
					<div class="row">
						<div class="six cell">
							<h2 class="upper-title">[[post.title]]</h2>
							<strong class="subtitle">
								[[translate('blog.by')]] [[post.author.username]] [[formatDate(post.created.fromNow())]]
						<span data-ng-if="isCurrentView('lastPosts')">
							[[translate('blog.on.blog')]] [[blog.title]]
						</span>
							</strong>
						</div>
					</div>

					<div class="row">
						<div class="twelve cell" ng-bind-html="post.content"></div>
					</div>

					<div ng-if="showComments && post.comments.all.length > 0">
						<hr style="padding: 0px; border-style: inset; border-width: 1px">
						<h4 class="upper-title">Commentaires : </h4>
						<div ng-repeat="comment in post.comments.all">
							<article style="box-shadow: 0 1px 3px rgba(0,0,0,0.26); border-radius: 2px; width: 95%; margin-left: 5%">
								<div class="row">
									<div class="six cell">
										<strong class="subtitle">
											[[comment.author.username]] [[formatDate(comment.created.fromNow())]]
										</strong>
									</div>
								</div>
								<div class="row">
									<div class="twelve cell">[[comment.comment]]</div>
								</div>
							</article>
						</div>
					</div>

				</article>
			</div>
		</section>

	</div>

</body>
</html>
