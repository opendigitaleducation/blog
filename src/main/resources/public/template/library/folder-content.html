<div class="fallen dominos">
    <div ng-repeat="folder in currentFolder.children.all | filter:searchFolder">
        <explorer ng-model="folder.selected" on-open="open(folder)" class="folder item">
            <section class="domino" dragstart ng-model="folder._id" dragdrop="dropTo(folder, $originalEvent)">
                <div class="top">
                    <i class="folder-large"></i>
                </div>
                <div class="bottom">
                    <div class="content">
                        <strong>[[folder.shortenedName]]</strong>
                    </div>
                </div>
            </section>
        </explorer>
    </div>
    <div ng-repeat="blog in currentFolder.ressources.filtered | filter:searchBlog">
        <explorer ng-model="blog.selected" on-open="open(blog)" class="item">
            <section class="domino" dragstart ng-model="blog._id">
                <div class="top">
                    <img skin-src="/img/illustrations/blog.png" ng-if="!blog.icon" class="absolute">
                    <img image-lazy-load="blog.icon" ng-if="blog.icon" class="absolute" />
                </div>
                <div class="bottom">
                    <div class="content">
                        <strong class="block overflow-hd">[[blog.shortenedTitle]]</strong>
                        <span class="cell-ellipsis block">[[blog.author.username]]</span>
                        <em class="smaller-text block">
                            <i18n>modified.on</i18n>
                        </em>
                        <br />
                        <div class="icons">
                            <!-- Il faut revoir les conditions du ng-if -->
                            <i class="shared inline" ng-if="blog.shared.length > 0" tooltip="tooltip.shared"></i>
                            <i class="public" ng-if="blog.visibility === 'PUBLIC'" tooltip="tooltip.public"></i>
                            <i class="manage" ng-if="blog.myRights.removeBlog" tooltip="tooltip.manager"></i>
                            <i class="edit" ng-if="!blog.myRights.removeBlog && blog.myRights.editBlog"
                                tooltip="tooltip.update"></i>
                            <i class="view" ng-if="!blog.myRights.editBlog" tooltip="tooltip.read"></i>
                        </div>
                    </div>
                </div>
            </section>
        </explorer>
    </div>
</div>
<container template="library/toaster"></container>